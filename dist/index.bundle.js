!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{constructor(e){this.message=e,this.name="IndexOutOfArrayException"}}t.IndexOutOfArrayExecption=i;class r{constructor(e,t){var n;if("string"==typeof e)n=document.querySelectorAll(e),null!=t&&(n=[n[t]]);else{if(null==e||e==document)return this.ready=function(e){document.addEventListener("DOMContentLoaded",e)},this;if("object"!=typeof e)return"ExtJsObject"==e.type?e:void 0;n=null==e.length?[e]:null!=t?[e[t]]:e}this.type="ExtJsObject",this.node=n}html(e){if(null!=e){for(var t=0;t<this.node.length;t++){var n=this.node[t];"string"!=typeof e&&"number"!=typeof e||(n.innerHTML=e)}return this}return this.node[0].innerHTML}text(e){if(null!=e){for(var t=0;t<this.node.length;t++){var n=this.node[t];"string"!=typeof e&&"number"!=typeof e||(n.innerText=e)}return this}return this.node[0].innerText}click(e,t){for(var n=0;n<this.node.length;n++){var i=this.node[n];if(void 0===t)void 0!==e?i.addEventListener("click",e):i.click();else if(void 0!==e){var r=i;i.addEventListener("click",function(n){if(r.querySelector(t)==n.target){let n=r.querySelector(t);n.prototype.toDo=e,n.toDo()}})}else{(r=i).querySelector(t).click()}}return this}dblclick(e,t){for(var n=0;n<this.node.length;n++){var i=this.node[n];if(void 0===t)void 0!==e?i.addEventListener("dblclick",e):i.dblclick();else if(void 0!==e){var r=i;i.addEventListener("dblclick",function(n){if(r.querySelector(t)==n.target){let n=r.querySelector(t);n.prototype.toDo=e,n.toDo()}})}else{(r=i).querySelector(t).dblclick()}}return this}hover(e,t){for(var n=0;n<this.node.length;n++){var i=this.node[n];if(void 0===t)void 0!==e?i.addEventListener("mouseover",e):i.click();else if(void 0!==e){var r=i;i.addEventListener("mouseover",function(n){if(r.querySelector(t)==n.target){let n=r.querySelector(t);n.prototype.toDo=e,n.toDo()}})}}return this}leave(e,t){for(var n=0;n<this.node.length;n++){var i=this.node[n];if(void 0===t)void 0!==e?i.addEventListener("mouseleave",e):i.click();else if(void 0!==e){var r=i;i.addEventListener("mouseleave",function(n){if(r.querySelector(t)==n.target){let n=r.querySelector(t);n.prototype.toDo=e,n.toDo()}})}}return this}get(e){if(null!=e){if(null==this.node[e])throw new i("ExtJsObject.get undefined index node["+e+"]");return this.node[e]}if(null==this.node[0])throw new i("ExtJsObject.get undefined index node[0]");return this.node[0]}exists(e){return null!=e?null!=this.node[e]:0!=this.node.length}height(e){for(var t=0;t<this.node.length;t++){var n=this.node[t];if(void 0===e)return n.offsetHeight;n.style.height=e}return this}width(e){for(var t=0;t<this.node.length;t++){var n=this.node[t];if(void 0===e)return n.offsetWidth;n.style.width=e}return this}addClass(e){for(var t=0;t<this.node.length;t++){this.node[t].classList.add(e)}return this}hasClass(e){return this.node[0].classList.contains(e)}removeClass(e){for(var t=0;t<this.node.length;t++){this.node[t].classList.remove(e)}return this}remove(){for(var e=0;e<this.node.length;e++){var t=this.node[e];t.parentElement.removeChild(t)}}child(e){for(var t=[],n=0;n<this.node.length;n++){var i=this.node[n],r=document.createElement(e);i.appendChild(r),t.push(r)}return o(t)}css(e,t,n){var i=n;if(null==n&&(n=0),null==t)return this.node[n].style[e];if(null!=i)return this.node[n].style[e]=t,this;for(let n=0;n<this.node.length;n++){this.node[n].style[e]=t}return this}attr(e,t,n){var i=n;if(null==n&&(n=0),null==t)return this.node[n].getAttribute(e);if(null!=i)return this.node[n].style[e]=t,this;for(let n=0;n<this.node.length;n++){this.node[n].setAttribute(e,t)}return this}parent(e){for(var t=[],n=0;n<this.node.length;n++){var i=this.node[n];null==e?t.push(i.parentElement):t.push(i.closest(e))}return o(t)}value(e){if(null!=e){for(var t=0;t<this.node.length;t++){var n=this.node[t];"string"!=typeof e&&"number"!=typeof e||(n.value=e)}return this}this.node[0];return this.node[0].value}keypress(e,t){for(var n=0;n<this.node.length;n++){var i=this.node[n];if(void 0===t)void 0!==e&&i.addEventListener("keypress",e);else if(void 0!==e){var r=i;i.addEventListener("keypress",function(n){if(r.querySelector(t)==n.target){let n=r.querySelector(t);n.prototype.toDo=e,n.toDo()}})}}return this}input(e,t){for(var n=0;n<this.node.length;n++){var i=this.node[n];if(void 0===t)void 0!==e&&i.addEventListener("input",e);else if(void 0!==e){var r=i;i.addEventListener("input",function(n){if(r.querySelector(t)==n.target){let n=r.querySelector(t);n.prototype.toDo=e,n.toDo()}})}}return this}keydown(e,t){for(var n=0;n<this.node.length;n++){var i=this.node[n];if(void 0===t)void 0!==e&&i.addEventListener("keydown",e);else if(void 0!==e){var r=i;i.addEventListener("keydown",function(n){if(r.querySelector(t)==n.target){let n=r.querySelector(t);n.prototype.toDo=e,n.toDo()}})}}return this}change(e,t){for(var n=0;n<this.node.length;n++){var i=this.node[n];if(void 0===t)void 0!==e&&i.addEventListener("change",e);else if(void 0!==e){var r=i;i.addEventListener("change",function(n){if(r.querySelector(t)==n.target){let n=r.querySelector(t);n.prototype.toDo=e,n.toDo()}})}}return this}keyup(e,t){for(var n=0;n<this.node.length;n++){var i=this.node[n];if(void 0===t)void 0!==e&&i.addEventListener("keyup",e);else if(void 0!==e){var r=i;i.addEventListener("keyup",function(n){if(r.querySelector(t)==n.target){let n=r.querySelector(t);n.prototype.toDo=e,n.toDo()}})}}return this}prevSibling(){let e=[];for(var t=0;t<this.node.length;t++){var n=this.node[t];e.push(n.previousSibling)}return o(e)}nextSibling(){let e=[];for(var t=0;t<this.node.length;t++){var n=this.node[t];e.push(n.nextSibling)}return o(e)}appendTo(e){let t=this.get(0);e.get(0).appendChild(t)}count(){return this.node.length}forEach(e){for(let t=0;t<this.node.length;t++){const n=this.node[t];e.bind(n)(t)}return this}cssObj(e){return Object.keys(e).forEach(t=>{this.css(t,e[t])}),this}children(e){return o(this.node[0].querySelectorAll(e))}only(e){return o(this.node[e])}}t.ExtJsObject=r;function o(e,t){return null!=e?new r(e,t):this}t.AR=new class{request(e,t,n,i,r){let o=new XMLHttpRequest;o.onreadystatechange=function(){if(4==o.readyState&&200==o.status)i(o.responseText);else if(4==o.readyState&&null!=r)try{r()}catch(e){}},o.open("GET"==e||"DELETE"==e?"GET":"POST",t,!0);let s="";if(null!=n){let e=Object.keys(n);for(let t=0;t<e.length;t++)0!==t&&(s+="&"),s=s+e[t]+"="+n[e[t]];o.setRequestHeader("Content-type","application/x-www-form-urlencoded")}"PUT"!=e&&"DELETE"!=e||o.setRequestHeader("x-http-method-override",e),""!=s?o.send(s):o.send()}GET(e,t,n){return this.request("GET",e,void 0,t,n)}DELETE(e,t,n){return this.request("DELETE",e,void 0,t,n)}POST(e,t,n,i){return this.request("POST",e,t,n,i)}PUT(e,t,n,i){return this.request("PUT",e,t,n,i)}},t.$=o},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",i=e[3];if(!i)return n;if(t&&"function"==typeof btoa){var r=(s=i,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),o=i.sources.map(function(e){return"/*# sourceURL="+i.sourceRoot+e+" */"});return[n].concat(o).concat([r]).join("\n")}var s;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var i={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(i[o]=!0)}for(r=0;r<e.length;r++){var s=e[r];"number"==typeof s[0]&&i[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),t.push(s))}},t}},function(e,t,n){var i,r,o={},s=(i=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=i.apply(this,arguments)),r}),a=function(e){var t={};return function(e){if("function"==typeof e)return e();if(void 0===t[e]){var n=function(e){return document.querySelector(e)}.call(this,e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}}(),l=null,d=0,c=[],u=n(8);function h(e,t){for(var n=0;n<e.length;n++){var i=e[n],r=o[i.id];if(r){r.refs++;for(var s=0;s<r.parts.length;s++)r.parts[s](i.parts[s]);for(;s<i.parts.length;s++)r.parts.push(b(i.parts[s],t))}else{var a=[];for(s=0;s<i.parts.length;s++)a.push(b(i.parts[s],t));o[i.id]={id:i.id,refs:1,parts:a}}}}function f(e,t){for(var n=[],i={},r=0;r<e.length;r++){var o=e[r],s=t.base?o[0]+t.base:o[0],a={css:o[1],media:o[2],sourceMap:o[3]};i[s]?i[s].parts.push(a):n.push(i[s]={id:s,parts:[a]})}return n}function p(e,t){var n=a(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=c[c.length-1];if("top"===e.insertAt)i?i.nextSibling?n.insertBefore(t,i.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),c.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=a(e.insertInto+" "+e.insertAt.before);n.insertBefore(t,r)}}function v(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=c.indexOf(e);t>=0&&c.splice(t,1)}function m(e){var t=document.createElement("style");return e.attrs.type="text/css",g(t,e.attrs),p(e,t),t}function g(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function b(e,t){var n,i,r,o;if(t.transform&&e.css){if(!(o=t.transform(e.css)))return function(){};e.css=o}if(t.singleton){var s=d++;n=l||(l=m(t)),i=w.bind(null,n,s,!1),r=w.bind(null,n,s,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",g(t,e.attrs),p(e,t),t}(t),i=function(e,t,n){var i=n.css,r=n.sourceMap,o=void 0===t.convertToAbsoluteUrls&&r;(t.convertToAbsoluteUrls||o)&&(i=u(i));r&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var s=new Blob([i],{type:"text/css"}),a=e.href;e.href=URL.createObjectURL(s),a&&URL.revokeObjectURL(a)}.bind(null,n,t),r=function(){v(n),n.href&&URL.revokeObjectURL(n.href)}):(n=m(t),i=function(e,t){var n=t.css,i=t.media;i&&e.setAttribute("media",i);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),r=function(){v(n)});return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else r()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=s()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=f(e,t);return h(n,t),function(e){for(var i=[],r=0;r<n.length;r++){var s=n[r];(a=o[s.id]).refs--,i.push(a)}e&&h(f(e,t),t);for(r=0;r<i.length;r++){var a;if(0===(a=i[r]).refs){for(var l=0;l<a.parts.length;l++)a.parts[l]();delete o[a.id]}}}};var y,x=(y=[],function(e,t){return y[e]=t,y.filter(Boolean).join("\n")});function w(e,t,n,i){var r=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=x(t,r);else{var o=document.createTextNode(r),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(o,s[t]):e.appendChild(o)}}},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,o){function s(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(s,a)}l((i=i.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const r=n(4);n(6);const o=n(0),s=n(9),a=n(10),l=n(13),d=o.$("body").child("div").addClass("workspace"),c=d.child("div").addClass("controls"),u=d.child("div").addClass("slides").child("div").addClass("welcome-wrapper");let h;u.child("img").attr("src","images/working.svg"),u.child("span").text("Bienvenue sur SNote !"),u.child("p").text("Ouvrez un PDF ou un fichier SNote 2.0 pour commencer ☺"),[{icon:"note_add",title:"Charger un document",command:()=>i(this,void 0,void 0,function*(){const e=new r.default,t=yield e.snoteDoc;h=new s.default(t)})},{icon:"save",title:"Sauvegarder",command:()=>{if(null==h)return alert("Aucun document à sauvegarder");h.save()}},{icon:"cloud_download",title:"Sauvegarder en .snote",command:()=>{if(null==h)return alert("Aucun document à sauvegarder");l.saveJSONAsFile(h.save(),"note.snote")}}].forEach(e=>{c.child("span").addClass("material-icons").attr("title",e.title||"").text(e.icon).click(()=>{e.command()})});d.child("div").addClass("flip").html('<i class="material-icons">\n                flip\n            </i>');new a.default("<h2>Titre de niveau 2</h2><div><div>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean vulputate sed diam vitae maximus. Nam vestibulum elementum orci non dignissim. Vivamus sed rhoncus diam. Cras tincidunt lectus finibus libero vestibulum pulvinar. Praesent ut mi a nunc vulputate tempus volutpat at tellus. Donec eget lectus in lacus porta consectetur ut non justo. Donec ac nunc ex. Duis aliquam vel odio et ornare. Ut risus mi, eleifend at pellentesque dictum, sollicitudin in odio. Ut ex mauris, pretium eu magna ut, finibus rhoncus orci. Sed et nisi a massa efficitur pretium et ac ipsum. Vivamus odio tortor, molestie eget sem eget, <u>finibus</u> <i>venenatis</i> <b>ligula</b>. Praesent in erat ac risus sagittis ultricies. Curabitur molestie porta est eget placerat.</div><div><br></div><div>Sed lorem quam, egestas et nunc nec, volutpat laoreet orci. Curabitur facilisis ante sit amet facilisis semper. Sed vitae mi ac turpis fringilla commodo. Pellentesque sit amet nibh leo. Aliquam eget risus id mauris convallis iaculis. Nam eros ipsum, porttitor vitae vulputate suscipit, tempor in felis. Nullam hendrerit risus eu nibh dignissim, et dapibus tortor porta. Aliquam condimentum est velit, a rutrum leo tincidunt quis. Fusce id est ante. In fringilla orci nunc, vitae convallis augue luctus tristique.</div></div><div><ol><li>First list item</li><li>Second list item</li><li>Third list item</li></ol>this is a text<br></div><div><ul><li>ceci est un texte</li><ul><li>hello world</li><ul><li>coucou hibou</li></ul></ul></ul></div><div><br></div>")},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,o){function s(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(s,a)}l((i=i.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),o=n(5);t.default=class{constructor(){this.snoteDoc=new Promise(e=>{let t=r.$("body").child("input").change(()=>i(this,void 0,void 0,function*(){const n=t.get(0).files[0];console.log(n);const i=n.name.split(".").reverse()[0];let r;if("pdf"==i&&(r=yield(new o.default).load(n)),"snote"==i)return e(JSON.parse(yield this.readFilebAsText(n)));const s={type:"snote",version:3,pages:[],author:"snote"};r.forEach(e=>{s.pages.push({image:e,objects:[],htmlContent:""})}),e(s)})).attr("type","file").click()})}readFilebAsText(e){const t=new FileReader;return new Promise(n=>{t.addEventListener("loadend",e=>{n(e.srcElement.result)}),t.readAsText(e)})}}},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,o){function s(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(s,a)}l((i=i.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});t.default=class{load(e){const t=window.XPDF,n=URL.createObjectURL(e);return new Promise(r=>i(this,void 0,void 0,function*(){if("pdf"!=e.name.split(".").reverse()[0])throw"Erreur lors du chargement : ce fichier n'est pas un PDF";const i=yield t.getDocument({url:n});console.log(i);const o=[];for(let e=0;e<i.numPages;e++){const t=yield i.getPage(e+1);console.log(t);const n=document.createElement("canvas"),r=n.getContext("2d"),s=t.getViewport(2);n.setAttribute("width",s.width),n.setAttribute("height",s.height),yield t.render({canvasContext:r,viewport:s}),o.push(n.width+"x"+n.height+"///"+n.toDataURL()),n.remove()}r(o)}))}}},function(e,t,n){var i=n(7);"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,r);i.locals&&(e.exports=i.locals)},function(e,t,n){(e.exports=n(1)(!1)).push([e.i,"body,html{margin:0;padding:0;height:100vh;width:100vw;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.rich-textarea{z-index:85;right:0;width:50vw;border-left:1px solid #d7d7d7}.rich-textarea,.workspace{position:absolute;top:0;bottom:0;height:100vh}.workspace{z-index:90;background:#fff;left:0;width:calc(50vw - 1px)}.workspace .flip{background:#fff;position:absolute;top:50%;right:0;transform:translate(50%,-50%);border:1px solid #d7d7d7;padding:2px;padding-top:5px;padding-bottom:5px;border-radius:4px;cursor:col-resize;opacity:0;transition:.75s}.workspace .flip i{vertical-align:middle}.workspace .flip:hover{opacity:1}.workspace .controls{background:#f2f2f2;padding:12px;height:30px;position:absolute;top:0;right:0;left:0;border-bottom:1px solid #d7d7d7}.workspace .controls .material-icons{display:inline-block;height:30px;line-height:30px;vertical-align:middle;color:#565656;padding-left:7px;padding-right:7px;cursor:pointer}.workspace .controls select{border:1px solid #c5c5c5;color:#3c3c3c}.workspace .slides{position:absolute;top:55px;left:0;right:0;bottom:55px}.workspace .slides .welcome-wrapper{position:absolute;text-align:center;top:50%;left:50%;transform:translate(-50%,-50%);width:50%;color:#565656}.workspace .slides .welcome-wrapper img{display:block;position:relative;width:400px;max-width:80%;margin:auto;margin-bottom:35px}.workspace .slides_switcher{position:absolute;bottom:5px;left:50%;transform:translateX(-50%);background:rgba(0,0,0,.85);color:#fff;border-radius:4px;user-select:none}.workspace .slides_switcher span{vertical-align:middle;display:inline-block;line-height:30px;padding:8px}.workspace .slides_switcher span.current_page{font-size:18px}.workspace .slides_switcher span.next,.workspace .slides_switcher span.previous{cursor:pointer}",""])},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,i=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var r,o=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?e:(r=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:i+o.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(10),r=n(0);t.default=class{constructor(e){if(this.doc=e,console.log(e),e.pages.length<1)throw alert("Document non valide !"),"Erreur document";switch(e.version){case 3:e.pages.forEach(e=>{e.richTextBox=new i.default(e.htmlContent)}),console.log(e.pages),r.$(".slides_switcher").remove();let t=0;const n=r.$(".workspace").child("div").addClass("slides_switcher"),o=n.child("span").addClass("previous").addClass("material-icons").text("arrow_back"),s=n.child("span").addClass("current_page"),a=()=>{s.text(`Page ${t+1}/${e.pages.length}`),e.pages.forEach((e,n)=>{t==n?e.richTextBox.show():e.richTextBox.hide()})};a(),o.click(()=>{--t<0&&(t=0),a()}),n.child("span").addClass("next").addClass("material-icons").text("arrow_forward").click(()=>{++t>e.pages.length-1&&(t=e.pages.length-1),a()});break;default:alert("Cette version n'est pas (ou plus) prise en charge.")}}save(){let e=Object.assign({},this.doc);return e.pages.forEach(e=>{e.htmlContent=e.richTextBox.html,e.richTextBox=void 0}),e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(0);n(11);t.default=class{constructor(e="Default text",t=i.$("body")){const n=t.child("div").addClass("rich-textarea");this.base=n,this.controls=n.child("div").addClass("controls"),this.addControls();const r=n.child("div").addClass("text").attr("spellcheck","true").attr("contenteditable","true").html(e);this.textarea=r,r.get(0).addEventListener("blur",e=>{e.relatedTarget&&i.$(e.relatedTarget).parent(".matrix").count()>0||(e.preventDefault(),e.stopPropagation(),e.target.focus())}),r.keydown(e=>{switch(e.keyCode){case 9:e.preventDefault(),e.ctrlKey?(e.preventDefault(),e.stopPropagation(),document.execCommand("insertHTML",!0,'\n                        <span class="matrix" contenteditable="false">\n                        <table contenteditable="true">\n                            <tr>\n                                <td>0</td>\n                                <td>0</td>\n                                <td>0</td>\n                            </tr>\n                            <tr>\n                                <td>0</td>\n                                <td>0</td>\n                                <td>0</td>\n                            </tr>\n                            <tr>\n                                <td>0</td>\n                                <td>0</td>\n                                <td>0</td>\n                            </tr>\n                        </table>\n                        </span> ')):document.execCommand("insertText",void 0,"\t")}})}addControls(){const e=this.controls.child("select");[{title:""},{title:"Titre 1",value:"<h1>",action:"formatBlock"},{title:"Titre 2",value:"<h2>",action:"formatBlock"},{title:"Titre 3",value:"<h3>",action:"formatBlock"},{title:"Titre 4",value:"<h4>",action:"formatBlock"}].forEach(t=>{e.child("option").attr("value",t.title).text(t.title),e.change(()=>{e.value()==t.title&&(console.log("e"),document.execCommand(t.action,void 0,t.value))})}),[{icon:"undo",command:"undo",title:"Annuler"},{icon:"redo",command:"redo",title:"Refaire"},{icon:"format_bold",command:"bold",title:"Mettre en gras"},{icon:"format_italic",command:"italic",title:"Mettre en italique"},{icon:"format_strikethrough",command:"strikeThrough",title:"Barrer"},{icon:"format_indent_increase",command:"indent",title:"Augmenter l'indentation"},{icon:"format_indent_decrease",command:"outdent",title:"Diminuer l'indentation"},{icon:"format_underlined",command:"underline",title:"Souligner"},{icon:"format_list_bulleted",command:"insertUnorderedList",title:"Liste non numérotée"},{icon:"format_list_numbered",command:"insertOrderedList",title:"Liste numérotée"}].forEach(e=>{this.controls.child("span").addClass("material-icons").attr("title",e.title||"").text(e.icon).click(()=>{document.execCommand(e.command)})})}hide(){this.base.css("display","none")}show(){this.base.css("display","block")}get html(){return this.textarea.html()}}},function(e,t,n){var i=n(12);"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,r);i.locals&&(e.exports=i.locals)},function(e,t,n){(e.exports=n(1)(!1)).push([e.i,".matrix{display:inline-block;background:#eee;vertical-align:middle;position:relative}.matrix table{display:inline-table;vertical-align:top}.matrix table td{background:#fff}.rich-textarea .controls{background:#f2f2f2;padding:12px;height:30px;position:absolute;top:0;right:0;left:0;border-bottom:1px solid #d7d7d7}.rich-textarea .controls .material-icons{display:inline-block;height:30px;line-height:30px;vertical-align:middle;color:#565656;padding-left:7px;padding-right:7px;cursor:pointer}.rich-textarea .controls select{border:1px solid #c5c5c5;color:#3c3c3c}.rich-textarea .text{outline:none;position:absolute;top:55px;right:0;left:0;bottom:0;padding:25px;overflow:auto;background:#fff}",""])},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.saveJSONAsFile=(i=document.createElement("a"),document.body.appendChild(i),i.style.display="none",function(e,t){var n=JSON.stringify(e),r=new Blob([n],{type:"octet/stream"}),o=window.URL.createObjectURL(r);i.href=o,i.download=t,i.click(),window.URL.revokeObjectURL(o)})}]);